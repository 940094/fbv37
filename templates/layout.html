<!DOCTYPE html>

<html lang="en" class="h-100">

    <head>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Real Leads: {% block title %}{% endblock %}</title>

        <style>
        nav .navbar-brand
        {
            /* size for brand */
            font-size: xx-large;
        }

        /* colors for table: https://www.w3schools.com/html/html_tables.asp */
        #c1 {
          width: 100%;
          background-color: LightGrey;
          color: black;
        }

        #goback
        {
            background-color: LightBlue;
            padding: 10px 0px;

        }

        /*iPhone4 iframe*/
        #iphone4 {
            background-image: url("https://cdn4.iconfinder.com/data/icons/simple-device/300/flat-iphone-512.png");
            background-repeat: no-repeat;
            margin: 0 auto 30px;
            position: relative;
            height: 800px;
            width: 700px;
            background-size: cover;
        }


        /*Mobile iframe CSS for ihpone Frame
        https://www.webdeveloper.com/d/280649-resolved-putting-an-image-as-a-frame-around-an-iframe/3
        https://image.freepik.com/free-psd/white-mobile-phone-mock-up_1104-79.jpg
        */
        #lead_ad_preview {
            height: 600px;
            width: 326px;
            position: absolute;
            top: 105px;
            left: 241px;
            background-size: cover;
        }

        .btn-file {
            position: relative;
            overflow: hidden;
        }
        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            background: white;
            cursor: inherit;
            display: block;
        }
        .help-icon {
            height: 1.1em;
            width: 1.1em;
            background-color: #C79031;
            border-radius: 50%;
            display: flex;
            font-size: .75em;
            align-items: center;
            justify-content: center;
            line-height: .75em;
            position: absolute;
            right: 0px;
            top: 0px;
        }

        .form-group {
            display: block !important;
            position: relative !important;
        }

        #lead_ad_generator_left_menu .container :not(h4){
            text-align: left !important;
        }

        select, #url, #location_query, #headline, textarea {
            flex-basis: 100% !important;
            max-width: 100% !important;
            width: 100% !important;
        }

        #lead_ad_generator_left_menu input {
            background: none !important;
            border-radius: 0px !important;
            border: none !important;
            border-bottom-color: white !important;
            border-bottom-style: solid !important;
            border-bottom-width: 1px !important;
            color: #cccccc ! important;
        }

        #lead_ad_generator_left_menu textarea {
            background: none !important;
            border-radius: 0px !important;
            border: white solid 1px !important;
            color: #cccccc ! important;
        }

        .invalid {
            color: #dc3545;
            font-size: 80%;
        }
        .valid {
            color: #28a745;
            font-size: 80%;
        }

        input::placeholder {
          color: #cccccc ! important;
        }

        input:focus, textarea:focus {
          outline: none !important;
          border: none !important;
        }


        /* colors for brand */
        nav .navbar-brand .darkblue
        {
            color: #4c637a;
        }
        nav .navbar-brand .lightblue
        {
            color: #5c9cdb;
        }

        main .form-control
        {
            /* center form controls */
            display: inline-block;

            /* override Bootstrap's 100% width for form controls */
            width: auto;
        }

        main
        {
            /* scroll horizontally as needed */
            overflow-x: auto;

            /* center contents */
            text-align: center;
        }

        main img
        {
            /* constrain images on small screens */
            max-width: 100%;
        }

        .circle-image {
            width: 200px;
            height: 200px;
            border-radius: 100%;
            display: block;
        }
        </style>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>


        <script src="{{ url_for('static', filename='js/form.js') }}"></script>
        {% block head %}{% endblock %}

    </head>

    <body class="d-flex h-100 flex-column">
        <script type="text/javascript">

              window.fbAsyncInit = function() {

                  FB.init({
                      // production
                      appId      : "342529826361699",

                      // development
                      //appId      : "388836281818509",

                      status     : true,
                      cookie     : true, // enable cookies to allow the server to access the session
                      version    : "v3.2", // The Graph API version to use for the call
                      xfbml      : true
                  });

                  FB.Event.subscribe('auth.login', function(response) {
                      window.location = window.location;
                  });
              };

              // Load the SDK Asynchronously
              (function(d, s, id) {
                  var js, fjs = d.getElementsByTagName(s)[0];
                  if (d.getElementById(id)) return;
                  js = d.createElement(s); js.id = id;
                  js.src = "//connect.facebook.net/en_US/sdk.js";
                  fjs.parentNode.insertBefore(js, fjs);
              }(document, 'script', 'facebook-jssdk'));

        </script>

        <nav class="navbar navbar-expand-md navbar-light bg-light border">
            <a class="navbar-brand" href="/"><span class=darkblue>Real <span class=lightblue>Leads</span></a>
            <button aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbar" data-toggle="collapse" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbar">
                {% if session.id %}
                    <ul class="navbar-nav mr-auto mt-2">
                        <li class="nav-item"><a class="nav-link" href="/my_leads">My Leads</a></li>
                        <li class="nav-item"><a class="nav-link" href="/lead_ad_generator">Listing Lead Generator Tool</a></li>
                        <li class="nav-item"><a class="nav-link" href="/ads"></a></li>
                    </ul>
                    <ul class="navbar-nav ml-auto mt-2">
                        <li class="nav-item"><a class="nav-link" href="/logout"></a></li>
                    </ul>
                {% else %}
                    <ul class="navbar-nav ml-auto mt-2">
                        <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
                        <li class="nav-item"><a class="nav-link" href="/login">Log In</a></li>
                    </ul>
                {% endif %}
            </div>
        </nav>

        {% if get_flashed_messages(category_filter=["error"]) %}
            <header>
                <div class="alert alert-warning border text-center alert-dismissible fade show" role="alert">
                    {{ get_flashed_messages() | join(" ") }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </header>
        {% endif %}
        {% if get_flashed_messages(category_filter=["info"]) %}
            <header>
                <div class="alert alert-primary border text-center alert-dismissible fade show" role="alert">
                    {{ get_flashed_messages() | join(" ") }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </header>
        {% endif %}


        <main class="flex-grow-1"> <!-- removed <main class="container p-5"> to make lead_ad_generator look better-->
        <!-- <main class="container flex-grow-1 d-flex flex-wrap align-content-center justify-content-center"> -->
                {% block main %}{% endblock %}

        </main>

    </body>

</html>
